!!!
%html
  %head
    %title STALKER:ShoC autogenerated maps

    %script( async src="https://www.googletagmanager.com/gtag/js?id=UA-109200828-1" )
    %script
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag("js", new Date());
      gtag("config", "UA-109200828-1");

    :css
      html, body { height: 100% }

      h2 { grid-column: 1/5 }
      grid img { width: 100%; height: auto }
      grid {
        display: grid; width: 100%; padding: 1em; row-gap: 0.5em; column-gap: 0.5em;
        grid-template-rows: auto auto 1fr 1fr; grid-template-columns: 1fr 1fr 1fr 1fr;
      }
      grid > div { color: #ccc }
      grid > div {
        display: flex;
        align-items: center;
        justify-content: center;
      }
      grid > div:nth-child(-n+5) {
        font-weight: bold;
        font-size: larger;
        text-decoration: underline;
      }

      .JesterBox div {
        position: fixed;
        z-index: 75;
        visibility: hidden;
        top: 2%; right: 2%; bottom: 2%; left: 2%;
        text-align: center;
        display: flex;
        justify-content: center;
        align-items: center;
      }
      .JesterBox div:before {
        position: fixed;
        z-index: 74;
        content: "";
        top: 0; right: 0; bottom: 0; left: 0;
        background-color: rgba(0, 0, 0, 0);
        transition: all 0.5s ease-out;
      }
      .JesterBox div img {
        position: relative;
        z-index: 77;
        max-width: 100%;
        max-height: 100%;
        opacity: 0;
        transition-property: all, opacity;
        transition-duration: 0.5s, 0.2s;
        transition-timing-function: ease-in-out, ease-out;
      }
      .JesterBox div:target        { visibility: visible                  }
      .JesterBox div:target:before { background-color: rgba(0, 0, 0, 0.7) }
      .JesterBox div:target img    { opacity: 1                           }

  %body( style="margin: 0; display: flex; flex-direction: column; font-family: Verdana, sans-serif; background-color: dimgray; color: white; text-align: center" )
    %h1
      S.T.A.L.K.E.R.: Shadow of Chernobyl
      %br
      autogenerated maps (EN, RU)
    %div( style="display: flex; flex-direction: column" )
      - [                                                             |
        %w{ Cordon                4 4 5 4 4 5 l01_escape           }, |
        %w{ Garbage               1 1 5 1 1 5 l02_garbage          }, |
        %w{ Agroprom              1 1 5 1 1 5 l03_agroprom         }, |
        %w{ Agroprom\ Underground 1 1 1 1 1 1 l03u_agr_underground }, |
        %w{ Dark\ Valley          1 1 1 1 1 1 l04_darkvalley       }, |
        %w{ X-18                  1 1 1 1 1 1 l04u_labx18          }, |
        %w{ Bar                   1 1 1 1 1 1                      }, |
      ].each_with_index do |(h, f1, f2, f3, f4, f5, f6, t), i|        |
        - id = h.dup.downcase.delete "^[a-z]"
        - if t
          %a( id=id class="JesterBox" href="##{id}" )
            %div{ id: 1 + 6 * i }
              %img( src="http://heavy.www.nakilon.pro/stalker_v#{f1}/#{t}_mutants_eng.jpg" )
            %div{ id: 2 + 6 * i }
              %img( src="http://heavy.www.nakilon.pro/stalker_v#{f2}/#{t}_anomalies.jpg" )
            %div{ id: 3 + 6 * i }
              %img( src="http://heavy.www.nakilon.pro/stalker_v#{f3}/#{t}_artifacts_eng.jpg" )
            %div{ id: 4 + 6 * i }
              %img( src="http://heavy.www.nakilon.pro/stalker_v#{f4}/#{t}_mutants_rus.jpg" )
            %div{ id: 5 + 6 * i }
              %img( src="http://heavy.www.nakilon.pro/stalker_v#{f5}/#{t}_npcs.jpg" )
            %div{ id: 6 + 6 * i }
              %img( src="http://heavy.www.nakilon.pro/stalker_v#{f6}/#{t}_artifacts_rus.jpg" )
        %div( style="display: flex" )
          %grid
            %h2= h
            %div DANGEROUS MUTANTS
            %div DEADLY ANOMALIES
            %div ANARCHISTS AND BANDITS
            %div ARTIFACTS
            - if t
              %a( href="##{1 + 6 * i}" )
                %img( src="http://heavy.www.nakilon.pro/stalker_v#{f1}/#{t}_mutants_eng.jpg" )
            - else
              %div TO DO
            - if t
              %a( href="##{2 + 6 * i}" )
                %img( src="http://heavy.www.nakilon.pro/stalker_v#{f2}/#{t}_anomalies.jpg" )
            - else
              %div TO DO
            %div
              my version of the game is Russian
              %br
              so I have only Russian NPC names
            - if t
              %a( href="##{3 + 6 * i}" )
                %img( src="http://heavy.www.nakilon.pro/stalker_v#{f3}/#{t}_artifacts_eng.jpg" )
            - else
              %div TO DO
            - if t
              %a( href="##{4 + 6 * i}" )
                %img( src="http://heavy.www.nakilon.pro/stalker_v#{f4}/#{t}_mutants_rus.jpg" )
            - else
              %div TO DO
            %div
              in fact there are no Russian names
              %br
              for anomalies in game files
            - if t
              %a( href="##{5 + 6 * i}" )
                %img( src="http://heavy.www.nakilon.pro/stalker_v#{f5}/#{t}_npcs.jpg" )
            - else
              %div TO DO
            - if t
              %a( href="##{6 + 6 * i}" )
                %img( src="http://heavy.www.nakilon.pro/stalker_v#{f6}/#{t}_artifacts_rus.jpg" )
            - else
              %div TO DO
