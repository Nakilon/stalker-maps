!!!
%html
  %head
    %title STALKER:ShoC autogenerated maps

    %script( async src="https://www.googletagmanager.com/gtag/js?id=UA-109200828-1" )
    %script
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag("js", new Date());
      gtag("config", "UA-109200828-1");

    :css
      html, body { height: 100% }

      h2 { grid-column: 1/5 }
      grid img { width: 100%; height: auto }
      grid {
        display: grid; width: 100%; padding: 1em; row-gap: 0.5em; column-gap: 0.5em;
        grid-template-rows: auto auto 1fr 1fr; grid-template-columns: 1fr 1fr 1fr 1fr;
      }
      grid > div { color: #ccc }
      grid > div {
        display: flex;
        align-items: center;
        justify-content: center;
      }
      grid > div:nth-child(-n+5) {
        font-weight: bold;
        font-size: larger;
        text-decoration: underline;
      }

  %body( style="margin: 0; display: flex; flex-direction: column; font-family: Verdana, sans-serif; background-color: dimgray; color: white; text-align: center" )
    %h1
      S.T.A.L.K.E.R.: Shadow of Chernobyl
      %br
      autogenerated maps (EN, RU)
    %div
      single-page (#{`du -sh rendered`.split.first}) version is
      %a( href="stalker-single-page.htm" ) here
    %div( style="display: flex; flex-direction: column" )
      - [                                                                |
        %w{ Cordon                4 4 6 5 4 6 5 l01_escape            }, |
        %w{ Garbage               1 1 3 5 1 3 5 l02_garbage           }, |
        %w{ Agroprom              1 1 3 5 1 3 5 l03_agroprom          }, |
        %w{ Agroprom\ Underground 1 1 3 1 1 3 1 l03u_agr_underground  }, |
        %w{ Dark\ Valley          1 1 3 1 1 3 1 l04_darkvalley        }, |
        %w{ X-18                  1 1 3 1 1 3 1 l04u_labx18           }, |
        %w{ Bar                   1 1 3 1 1 3 1 l05_bar               }, |
        %w{ Rostok                1 1 2 1 1 2 1 l06_rostok            }, |
        %w{ Military\ Warehouses  1 1 1 1 1 1 1 l07_military          }, |
        %w{ Yantar                1 1 1 1 1 1 1 l08_yantar            }, |
        %w{ X-16                  1 1 1 1 1 1 1 l08u_brainlab         }, |
        %w{ Radar                 1 1 1 1 1 1 1 l10_radar             }, |
        %w{ X-10                  2 2 2 2 2 2 2 l10u_bunker           }, |
        %w{ Pripyat               1 1 1 1 1 1 1 l11_pripyat           }, |
        %w{ CNPP-1                1 1 1 1 1 1 1 l12_stancia           }, |
        %w{ CNPP-2                1 1 1 1 1 1 1 l12_stancia_2         }, |
        %w{ Sarcofag-1            1 1 1 1 1 1 1 l12u_sarcofag         }, |
        %w{ Sarcofag-2            1 1 1 1 1 1 1 l12u_control_monolith }, |
      ].each_with_index do |(h, f1, f2, f3, f4, f5, f6, f7, t), i|       |
        - require "base64"; id = Base64::strict_encode64 h
        %div( style="display: flex" )
          %grid
            %h2= h
            %div DANGEROUS MUTANTS
            %div DEADLY ANOMALIES
            %div ANARCHISTS AND BANDITS
            %div ARTIFACTS
            - if t
              %a( target="_blank" href="http://heavy.www.nakilon.pro/stalker_v#{f1}/#{t}_mutants_eng.jpg" )
                %img( src="http://heavy.www.nakilon.pro/stalker_preview/#{t}_mutants_eng.jpg" )
            - else
              %div TO DO
            - if t
              %a( target="_blank" href="http://heavy.www.nakilon.pro/stalker_v#{f2}/#{t}_anomalies.jpg" )
                %img( src="http://heavy.www.nakilon.pro/stalker_preview/#{t}_anomalies.jpg" )
            - else
              %div TO DO
            - if t
              %a( target="_blank" href="http://heavy.www.nakilon.pro/stalker_v#{f3}/#{t}_npcs_eng.jpg" )
                %img( src="http://heavy.www.nakilon.pro/stalker_preview/#{t}_npcs_eng.jpg" )
            - else
              %div TO DO
            - if t
              %a( target="_blank" href="http://heavy.www.nakilon.pro/stalker_v#{f4}/#{t}_artifacts_eng.jpg" )
                %img( src="http://heavy.www.nakilon.pro/stalker_preview/#{t}_artifacts_eng.jpg" )
            - else
              %div TO DO
            - if t
              %a( target="_blank" href="http://heavy.www.nakilon.pro/stalker_v#{f5}/#{t}_mutants_rus.jpg" )
                %img( src="http://heavy.www.nakilon.pro/stalker_preview/#{t}_mutants_rus.jpg" )
            - else
              %div TO DO
            %div
              in fact there are no Russian names
              %br
              for anomalies in game files
            - if t
              %a( target="_blank" href="http://heavy.www.nakilon.pro/stalker_v#{f6}/#{t}_npcs_rus.jpg" )
                %img( src="http://heavy.www.nakilon.pro/stalker_preview/#{t}_npcs_rus.jpg" )
            - else
              %div TO DO
            - if t
              %a( target="_blank" href="http://heavy.www.nakilon.pro/stalker_v#{f7}/#{t}_artifacts_rus.jpg" )
                %img( src="http://heavy.www.nakilon.pro/stalker_preview/#{t}_artifacts_rus.jpg" )
            - else
              %div TO DO
